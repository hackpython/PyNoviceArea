# 变量和数据类型
要学习编程，第一步就要理解变量这个概念，要弄清楚下面的问题

什么是变量？
变量的作用？
在python中如何使用变量？

## 变量
变量就是一个空间，在这个空间中，你可以存放不同的内容，这里的内容对于不同的编程语言来说，可能不同，对于python来说，其实就是一个**内存地址**

科普一下
内存：内存(Memory)也被称为内存储器，其作用是用于暂时存放CPU中的运算数据，以及与硬盘等外部存储器交换的数据。简单说，你运行的软件其实都是运行在内存中的，它在内存中可以与cpu进行交互获得运算结果也可以将一些数据保存到硬盘中，介于cpu和硬盘间

内存地址：顾名思义，就是内存中的地址，比如你在运行一款软件，这款软件就会运行在内存中，那么它在内存中就有个地址，我们可以通过这个地址来找到这个运行中的软件

那么为什么python中的变量存放的是内存地址呢？

看下面代码

```python
name = 'ayuliao'
```

代码中的name其实就是变量，这个变量的名字就做name，而我们将'ayuliao'这个值赋给了这个变量，从代码上直观的看，变量name中存放的内容似乎就是ayuliao这个字符串，但这是片面的，在上面代码中，python干了2件事情

+ 在内存中创建了一块空间，存放ayuliao这个字符串
+ 在内存中创建了一个名为name的变量，在其中存放ayuliao这个字符串所属空间的内存地址

所以name变量实质上存放的是ayuliao所在内存空间的内存地址，看到这里相信你已经可以回到开头关于变量的三个问题了

可能聪明的人要问，为什么要这样做呢？为什么不直接将ayuliao这个字符串存到name这个变量中，反而要绕一圈存放其内存地址呢？

如果你学习过java或者c这样的编程语言，你可能就会灵感一闪的想到这个问题的答案，**python这样设计就可以让一个变量存放不同数据类型的值了**，为了加深理解，下面就来聊聊python中默认支持的数据类型

## 数据类型

计算机可以处理各种各样的数据，比如数字、图片、音频等，这些不同的数据都有其对应的类型，python默认支持下面几种类型的数据

+ 整型(int)
    + 其实就是整数，比如：1，-100，520，0都属于整型

+ 浮点型(float)
    + 其实就是小数，比如：1.0,0.1，-0.5，3.14都属于浮点型

+ 字符串(str)
    + 就是一串字符，比如'ayuliao'等

+ 布尔值(bool)
    + 就是False和True，在python中要注意大小写，一般用布尔值来作为判断条件

+ 空值(NoneType)
    + None是python中的空值，它跟0，''(空字符串)是不等价的，None是特殊的

+ list、tuple、set、dict
    + list、tuple、set、dict是python中重要的数据类型，在后面几章中重点介绍

在python中可以通过type()方法来看到变量所属的类型，通过下面代码加深一下理解

为变量a赋不同类型的值，然后通过print()方法将该值的类型输出

<iframe width="800" height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=a%20%3D%201%0Aprint%28type%28a%29%29%0A%0Aa%20%3D%201.0%0Aprint%28type%28a%29%29%0A%0Aa%20%3D%20'ayuliao'%0Aprint%28type%28a%29%29%0A%0Aa%20%3D%20True%0Aprint%28type%28a%29%29%0A%0Aa%20%3D%20None%0Aprint%28type%28a%29%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=false&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>

到这里就可以简单回答一下，**为什么不直接将ayuliao这个字符串存到name这个变量中，反而要绕一圈存放其内存地址呢？**这个问题了

python支持多种数据类型，这些数据类型占用的内存空间大小是不一样的，我们可以通过sys库中的getsizeof()方法来查看变量占用的内存空间大小

```python
In [1]: import sys #通过import导入sys库，你要使用一个库，必须先导入它

In [2]: i = 1

In [3]: print(sys.getsizeof(i)) #通过sys.getsizeof()获得变量所占的空间大小
28

In [4]: s = 'p'

In [5]: print(sys.getsizeof(s))
50

In [6]: print(type(i))
<class 'int'>

In [7]: print(type(s))
<class 'str'>
```

上面的代码在不同的系统或电脑中，结果可能会不同，但是也可以说明，整型(int)和字符串(str)占用的内存空间大小是不一样的

这样的结果就会出现一个疑惑，变量一开始要创建内存空间用来存放数据，那变量一开始是怎么知道要创建多大的空间的？如果创建太小的内存空间，可能就放不下str类型的值，而太大的空间用来放int类型的值又会显得十分浪费，为了解决这种问题，有两种常见的方式

+ 第一种，告诉变量这个值的类型，然后变量就创建这个类型那么大的空间，比如下面一段简短的java代码(java跟python一样，也是一种编程语言)

```python
int i = 1;
String str = "ayu";
```

从代码中可以发现，java中创建变量是要加数据类型作声明的，比如创建整型类型的变量，就要在前面加上int这个关键字，表示这个变量用来存放整型数据，如果我们将字符串赋值给这个整型变量就会报错，可以看出这是一种强制型的写法

+ 第二种，就像python这样，变量和变量的值分开存放，变量中存这个值的内存地址，这样做在创建变量时就不用声明它要存的数据类型

```python
i = 1
s = 'ayu'
```

在这种实现方法中，变量本身的空间大小是固定的，用来存放值的内存地址，而值的大小就会灵活创建，需要多大就创建多大，所以变量前不用声明值的数据类型

加深一下理解，对于第一种变量的实现方法，就是将值本身存到变量中了，所以创建变量前要知道这个值的数据类型需要占多少内存空间，而第二种变量实现方法值本身是不存到变量中的，而是单独的存到内存中，为了可以找到这个值，就将这个值的内存地址存到变量中，这样通过这个变量获得内存地址后同样可以找到这个值，那么变量本身就不需要知道这个值在内存中占有多大的空间，只需要知道它的内存地址就ok了

总而言之，python中的变量存的是值在内存中的地址，可以将这个地址抽象的理解成一个指针，该指针指向具体的值

## 常量
除了变量这个概念外，编程语言中还有个很重要的概念，就是常量，所谓常量就是它的值是不可被改变的，反而言之，变量它的值就是可以随意改变的

在python中其实不存在真正的常量，我们一般相互约定全部大写的变量就将其看成一个常量，但是你是可以更改的，比如我们将下面的NAME看做一个常量，但它本身其实是个变量

```python
NAME = 'ayuliao'
```

那么python中不存到常量吗？也不是，其实上面代码中'ayuliao'这个字符串就是一个常量，它是不可被更改的

```python
NAME = 'ayuliao'
NAME = 'python'
```

这样不就更改了？这其实更改的是NAME这个变量，准确说，是NAME这个变量中存放的地址，其实'ayuliao'本身依旧在内存中，如果它在其他地方也没有被使用到的话，就会被python的垃圾回收器给回收了

## 小结
本节简单的介绍了python中的变量、常量和数据类型，这些概念不止在python中会出现，几乎所有的编程语言都会涉及到这几个概念，当然其代表的具体含义可能不同

